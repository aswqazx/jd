/*
活动名称：京东健康能量任务

cron:27 4,16 * * *

*/

const $ = new Env('京东健康能量任务')
var iｉl='jsjiami.com.v7';const IiiIi1=iii1II;(function(ilI1li,IIliI,ilI1ll,Iillii,IlI1iI,Iillil,l1lIli){return ilI1li=ilI1li>>0x5,Iillil='hs',l1lIli='hs',function(lIIiiI,II1lil,IIli1l,II1lii,lIIii1){const IllIIl=iii1II;II1lii='tfi',Iillil=II1lii+Iillil,lIIii1='up',l1lIli+=lIIii1,Iillil=IIli1l(Iillil),l1lIli=IIli1l(l1lIli),IIli1l=0x0;const ll1i1=lIIiiI();while(!![]&&--Iillii+II1lil){try{II1lii=-parseInt(IllIIl(0x15a,'YSal'))/0x1*(-parseInt(IllIIl(0x251,'$1*l'))/0x2)+parseInt(IllIIl(0x1af,'0zw$'))/0x3*(parseInt(IllIIl(0x26e,'km86'))/0x4)+-parseInt(IllIIl(0x26a,'mqNI'))/0x5*(parseInt(IllIIl(0x1a6,'mqNI'))/0x6)+parseInt(IllIIl(0x1d3,'cJzR'))/0x7+-parseInt(IllIIl(0x148,'Y9k2'))/0x8*(-parseInt(IllIIl(0x1c7,'r7y]'))/0x9)+parseInt(IllIIl(0x23d,'5p(k'))/0xa+-parseInt(IllIIl(0x1b2,'Zne('))/0xb;}catch(IIli1i){II1lii=IIli1l;}finally{lIIii1=ll1i1[Iillil]();if(ilI1li<=Iillii)IIli1l?IlI1iI?II1lii=lIIii1:IlI1iI=lIIii1:IIli1l=lIIii1;else{if(IIli1l==IlI1iI['replace'](/[OtNhdJgWbPfFYpkClV=]/g,'')){if(II1lii===II1lil){ll1i1['un'+Iillil](lIIii1);break;}ll1i1[l1lIli](lIIii1);}}}}}(ilI1ll,IIliI,function(I1iIi1,lliil1,IIllI,lliilI,lili1,ll1l1,IllIIi){return lliil1='\x73\x70\x6c\x69\x74',I1iIi1=arguments[0x0],I1iIi1=I1iIi1[lliil1](''),IIllI=`\x72\x65\x76\x65\x72\x73\x65`,I1iIi1=I1iIi1[IIllI]('\x76'),lliilI=`\x6a\x6f\x69\x6e`,(0x16a49f,I1iIi1[lliilI](''));});}(0x18c0,0xbb34e,Iii11l,0xc8),Iii11l)&&(iｉl=0x1022);function iii1II(_0x378577,_0x35f9a5){const _0x22d0c6=Iii11l();return iii1II=function(_0xa7176f,_0x47b390){_0xa7176f=_0xa7176f-0x145;let _0x2a0355=_0x22d0c6[_0xa7176f];if(iii1II['VSNouZ']===undefined){var _0x1fe076=function(_0x26a22a){const _0x157ea0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2d912c='',_0x457642='';for(let _0x31e894=0x0,_0x10bcf3,_0x42c5e1,_0x251e76=0x0;_0x42c5e1=_0x26a22a['charAt'](_0x251e76++);~_0x42c5e1&&(_0x10bcf3=_0x31e894%0x4?_0x10bcf3*0x40+_0x42c5e1:_0x42c5e1,_0x31e894++%0x4)?_0x2d912c+=String['fromCharCode'](0xff&_0x10bcf3>>(-0x2*_0x31e894&0x6)):0x0){_0x42c5e1=_0x157ea0['indexOf'](_0x42c5e1);}for(let _0x1f8818=0x0,_0xea0de6=_0x2d912c['length'];_0x1f8818<_0xea0de6;_0x1f8818++){_0x457642+='%'+('00'+_0x2d912c['charCodeAt'](_0x1f8818)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x457642);};const _0x282346=function(_0x255983,_0x338a6b){let _0xa209b6=[],_0xea0e5e=0x0,_0x47d632,_0x5abb8a='';_0x255983=_0x1fe076(_0x255983);let _0x31adf6;for(_0x31adf6=0x0;_0x31adf6<0x100;_0x31adf6++){_0xa209b6[_0x31adf6]=_0x31adf6;}for(_0x31adf6=0x0;_0x31adf6<0x100;_0x31adf6++){_0xea0e5e=(_0xea0e5e+_0xa209b6[_0x31adf6]+_0x338a6b['charCodeAt'](_0x31adf6%_0x338a6b['length']))%0x100,_0x47d632=_0xa209b6[_0x31adf6],_0xa209b6[_0x31adf6]=_0xa209b6[_0xea0e5e],_0xa209b6[_0xea0e5e]=_0x47d632;}_0x31adf6=0x0,_0xea0e5e=0x0;for(let _0x2d934e=0x0;_0x2d934e<_0x255983['length'];_0x2d934e++){_0x31adf6=(_0x31adf6+0x1)%0x100,_0xea0e5e=(_0xea0e5e+_0xa209b6[_0x31adf6])%0x100,_0x47d632=_0xa209b6[_0x31adf6],_0xa209b6[_0x31adf6]=_0xa209b6[_0xea0e5e],_0xa209b6[_0xea0e5e]=_0x47d632,_0x5abb8a+=String['fromCharCode'](_0x255983['charCodeAt'](_0x2d934e)^_0xa209b6[(_0xa209b6[_0x31adf6]+_0xa209b6[_0xea0e5e])%0x100]);}return _0x5abb8a;};iii1II['AEsmyN']=_0x282346,_0x378577=arguments,iii1II['VSNouZ']=!![];}const _0x2e3a98=_0x22d0c6[0x0],_0x2d63db=_0xa7176f+_0x2e3a98,_0x3a7125=_0x378577[_0x2d63db];return!_0x3a7125?(iii1II['whjXJa']===undefined&&(iii1II['whjXJa']=!![]),_0x2a0355=iii1II['AEsmyN'](_0x2a0355,_0x47b390),_0x378577[_0x2d63db]=_0x2a0355):_0x2a0355=_0x3a7125,_0x2a0355;},iii1II(_0x378577,_0x35f9a5);}function Iii11l(){const lliiii=(function(){return[...[iｉl,'JdfjsjliFaVPmdpgipk.pcComh.v7NJOtpfbWCYh==','W6mJs3aqjCo4dCkGr8ovW57dTCoXg8ooCG','WQGxW6ddQLeE','WQNdJmkbr8kc','W4NdV8kvWOe','o8oqW5NcVtW','4P68ioAESEIcT+ATHUEHK+wLLoEtHSoz','W7KqySkhW4rxgG','W4hdSCkg','W6tdVGpcS3/dMSoCW41cW499nWFcPefbAq','WPtdJmkOwCku','W6NcVXFcHmk6','ESkpWRmhWQFdUCkiWOGFW7RdJW','5yca5BIW6ioh6ysB','W5dNTz3ORllOJkJLVQRVVBa','WPJcNYySlCkWWP4t','zLOMWQpcNa','W78Lsq','WQz3WOCEW7ZcKCk3lcuTdW','WReXW57dRfW','tumgWOpdUCkFWRq5WOhcMSoAqNxdS8oKvu8','yoITP+AZTowKI+I1Iq3INASy5PEQ5zoh5BM45PAP5O+5','W7TTW4C7W7S','W7JdJmokWR92W5pcUmk1BSoslG','ywH5W7zNW60','c0FcSSoCWO5xdW','qmolW7q8','msbJWQa8W6pdKLfxWQRdSILgiwqHW5S','5Rwd5yQe5yA+5y2pW6yc6AE36Ag/pEECJUEwMUs7NUImKmo156AD5yID','W7JdOKf6W4K','W4ZdIG7cTLe','gKddR8ouWR1w','W5JdTSohW5/cI2mb','W5NcM8kbW4O+','W4ZdN3u2','W7q/vG','WQKqi8ouza','6lA85y615PEy5PEh','W5ZdPSk7gaJdK8oSW4S4i0/dVa','WOyVssJdKmoonW','sw4llgNcISkGcW','WPXVW7W','W7uZwKKabConh8k4ymkoWPRcS8o0','W5RdRCk0','WOxdHrDGWOxdHGe0CG3cVmozdG9lbCkiq3hdGmoTW6FcJW','W5tdLSkdWPRcQW','WOFcUSk9abFdU8oyW6y','W7yTx8okxIO','W5BcVCkBW683W5xcOWWyW6FdMZxdRsy9wCktW57dRCkhmCoXW6D3ydXkz8koeYpcISoGW4/dVSo2bq','WOyYomoqFhjCWRhdN8ohjrpcUvu','q8kvWP15W7JcH2idWQfpwdZdQG','r0Oi','W57dTSo8W5lcNwLDWQK5WP4','t8opW7KU','WOKeW4i/','W4ToWOr5W4a','WR/cLSotlCkpaa','W4bBWQbUW48','W6KMASo8ra','WR7cLSoEc8kef8kH','EwuhkG','W43dJ1XS','fepdQSoBWR9s','W4xdGu8','W5j/W4qgW7G','W6VcVrhcJCk+W4xdIq','W6pcH08','WRxdUCkIE8kp','d8oyeG','W51DW70u','tH/dO8ofWRHseKbw','CmkoWRmdWRVcRCoZW44bW7lcHmorW7DW','W5/dT8olW5ZcIMCMW7O','W5VdRSojW4hcIKSl','Bxvs','gKtdO8kfW6GtW7tdIvS','eWLzW4VdOCkkW6aqWOpcSmoYwvu','W4RdIwqbWRG','WRlcUHqGeSkqWRy','W7ZcUsZcNmkFW5VcLCo8whm','W6vDWQbwW6FdOKfWmIRcV1hdLdRcVglcHLVcT8ogWRhcRSoiqmkwW5ldM8kVWRVdQH5RW4bphSkGWR0','ACkpWQibWRhdHmkOWPmcW7JdJCoMW7DsWPpdN8kftKu','nCoEnb3cKW','WPpdTmoBW4vYBCkq','W7OGW5VcM3i','W6lcIufSdLJdKSo4Fq','W6KkzCkb','WR3cVaagba','DCkFWRqaWQNdSmk5','W4BdNK1JW5jqA0u','ACo4FCodWOHyB2JcMG','WRdcS8kcWPNdHcHf5B6E5AEg44k75lUh5lQn6lwu5yYy','WQLNWO0GW7JcKSk7','FmkuWQndjq','WRebW5BdP1S','EmkuWOpdONddU8oaW7LJyX7dRv0','WPuqW54YBW','W7NdPae','W4BcTwjCdmkv','CCkLWOCnxLVcTw5YqSkF'],...(function(){return[...['W7lcSHNcJCkC','i8o/W4rj','W47dI0zyW7G','W6pdRqxcSwO','WOFcVM4JWRjdWQHmf8own8kDvW','W6RdMgaCWPu','lmo/W5e','W4ZdV8olW4pcGG','fmoYx8kMW5eIoZNdQaWEW7ddGgegWOuDqmkz','WRD2WOW6W7FcKSk3ktu','W4BcMqu','lCocW4hcUW','WO8nk8owDq','WPrHW68R','WPeLjCoPDLrzWR7dLCoNkW','W5FcU8kEW4KeW4xcPHWEW7/dHsRdRtO9DmkyW6NdKCkfdmoMW7m','W7VdOGlcHhm','C3nwna7cRtG','W5ldOI5CW6WgW45xbSoCFCoZiSoe','W4JcHqzX','f8ofW6JdGmoiW5GgW6RcPSkIW4tdPCkqgSk9W5yNWOVdHN1BuCoG','WOJcT8oUoSkc','W4VdMmk/WOTIe1/dVmobdW','t8kxWPT4W7NcHG','W4JdSmkcWO/cHs3dImo0','tmolW7KeWPZcPJpcQmolq8k6W5HpW48','W5OQuSkW','W4lcONn2eCkeWPXMySoLd33dL8or','W7pcPt3cHCkk','W5iz5Bs65A6f5OQB','FmkBWRms','wSo1W7S5WR0','44k15OYx56s944cS6k6p5yA46i2/5y+ruSoHuIhcJmkd','WO4kW5i7','A8oxW5KcWQC','WQtdN8kE','W5RdJw0WWPG','5y6O5ygx5lUX5yIIk8oc','WPtcG8oT','W4BdNCkSWPpcGa','nZrVWQy','W4/cRmkqW5m+W4FcOa','WRBdUrlcMCkVW5/dImkGbsm','or1xWR43','W5j6W6W0W4S','ixyEWQrLWQhcH2nvW4jl','FSoJw8olWPvundNdL3S','W5ZcIWTG','W7RdVbBcJKe','W4hcQfnCc8kBW7OWjCk7','bSozfGRcU8kzWR0U','ECoqW44t','WOOaW4ivASoAWRHPtwzdjSk3W5C','WO7dVCoEW5rQ','z3rAiHVcKcPmeW','W4TzW7OaW7xcQG','kmoKW4jkhXFdMbDRESkfW7FdUKaKm8o1nstdPCknW5tcR8oNbJxcV2FdPu5FyCo7WPVdML9Jdc57W7T5jhFdMg/dLSoUf8olWQVcJ8k0W6PyW4atgmkDW7TsW7OpW7bdWQn1W6hcO1ZdQbuGW63cN8kiW5DbzSoVWQjKEW','WRNdHCkCWReXW5BdICk7lCobBG','WPxcICo5W4f5ghG','ldPH','BmoVECo4WQq','BmoeW58aWRi0x8oCfZpdHxRdRCo+pSoGhKNdUq','WOZdJCk6xmkiDG','WROKW5KnDa','WRyDW7q','BNGDk0VcNW','cmo0xq','idK/WRPXW7umW41iW48','W4tdP8kGjqVdIG','cmoemb3cUq','W7CXxW','bSoAbrhcPG','W5BcPMPyvCkFWRPUDSoNuW','ECkgWOTE','W5O+W7a','C8kgWPjA','WOqUstZdHq','qx8kWRlcHW','W5tcSMjpaCkKWQL0ESocvdNcKCoup8oHWOW','WOpcVWqvcW','lYbYWPqPW5BdLa','W5VdSCk0','DmkvWQa','vmolqSo8WO0','WRD2WP8NW6ZcHG','W6uqDCkIW41fdG','WOSmW5OQzSoC','W6lcGh9miW','WP0+wIxdM8oBlqBcTq','W73dVXlcSxxcTmksWPfiW7n9AH7cUbiCF8ksA8kodY8FeCk1eSo1weNdSNNcHNrPvCoUDCkzaXe4mxGPWP3dJmo0W4DcWOSoW4jencDhDeWmWPLJWOz1W7KxWRKxDmkfWQPmsmokW4ZdSMBcPSoPtCkYjSodDq','W5dcTSku','lSogW4hcIshcRmkB','W4yWWQ0gq00PWQ3cIa','WQShW7BdRuq5eSkxDmo+q3FdJSkbpSksWR9dWQC','uKGChfe','kSo0W55LaeZcH01+A8kZWRhdTGaQo8k+bstdQCoWW5lcSSo7bIJcVXBdTKHczSoYWPRcL1PZ','zIvmW6m7','WRxcOrWmdW','EmkrW6tcNW7cR8kKW7C','it47WReZWQT+WRypWRymW7a','WQuqCaddJq'],...(function(){return['W6/dU1u','FCo9qSogWO0','iSobW5JcOXFcUSkaW7DWtaFdLM1FymoJFCk8pvpcVfSU','5lMb5yI45AYK5OQJ77+I6i615B+4','4P+grEACQ+ECGEITLUAXPKK','W5JdQ8kWoYNdN8oKW7e','iCoxW5b3jColmr/cGG','W7FdVHlcTwNdOmoPW5DDW69X','W5xcUZtcN8k/','gqHyW4pdOCkiW6fRWPBcKCoxqLJcIq','WR3cOaK','rLyi','5Q2I5Pw75lIA5yMb','W6ewrmkCW4C','rhvUW6b8','W5NdM1TL','bmosas7cTSkiWQaRW6GbWQJdJ8odka','WPldH8kU','W7eexCooFG','W4HvW6ymW48','WPCcEsddHW','5lQE5yIM5A625OUe776K6i+g5B+y','gWS+WRBcK8oBWOe5','f8oIs8kHW40coW','fSoYwCk3W40cpa','nJDeDa3dGCoh','W7KrymkqW5rx','BNGEmKBcImkO','fSodW63dPSo7W4GdW7RcOmk6W5RdUSkqbSk9W7SSWRZdUN9MrSo0WOChWROgWPXxzb7dPSkQeXrLW4i','BM9wpcxcVYze','W5hcP8oCW6vqxCkVpq','W5hcQSku','WQKgW6hdTLmnd8kdza','WPNVVldOJl7LV6i','W4/cGGPmWOy','WOj0WQFdJHtdLNLSCmkfwmkNxq','W4b0W6SpW5m','WRRIN54y','iCoBasBcTW','W6i+W7lcI2/cGI1/','WORdU8oWW5bbDG','zcjCW7GbWRJcIvXEW74','hSkxWR14W4ddP17cV8o2ESoqWQGx','W5BdPaJcTwpdOmojWPn9W7PKiq','ASkFWRqgWQtdOW','WQ0tW7RdQW','xaxcSSkwW6K3W77dS3G','zJPAW5S9','WPxdM8kmuCkc','WR/dKCkqWRC','WR1DW7G5WR7cS1u9FNZdL13cGwtdRJVcGt7dQSkvW5tcRCoBdmkvW4xdJmktW7NcVHvN','DcjBW7i','W5rpW64','qMPbfam','WQrHgJPyrW','W5hdP8kNgW7dISoDW7u/kq7cOaFdSa','W5rzW7OgW7JcUCoS','WQKzW7RdR28Fca','W59vW6CuW7xcSSoW','W6S3xCo9vqZdPM4bBa','W6dcUWLgWOC','w8oCW6q1WPdcHH7cUCoD','W6VdLCobW4tcNG','WPdWR7oBWQ/OV7ZOOjtNUzRMNPLU','oCowW7TGgW','ACoPE8oPWOLqBwFcHG','WOWYp8oGCNPs','lSowuCkgW4m','e8o3W5v1pq','xWlcUmkpW6KqW7q','j8omW5ZcUtO','zgtdMq','WQKgW7ldQ0Gz','WPWVwZNdMCoi','nCo1W4iQWRG','c0NcTCoiWP1vahH0n2BcL0y','WO04kW','W7/cSWZcRSkfW5FdIq','W4JcONrogCkxWQ0','WRHmW5mfDxKDWOu','W6eQW7JcG1S','W4pdUgqwWR4','zCkcWPvol8op','WPDLW68hqe4JWQhcNSka','W7ldSmkXksK','F0OkWOhcM8oEWR05','fSo3vSk9W5W','WPVcNrK/WOellWypcSonyq','tXJcTCkkW6ue','CmoRW5aeWR0','W65jWRHLW6ldOfbXlYtcJHBdJxNcR3NcLcxcVSoiWPhcPSkuqmkbW43dISkEWQRdObnGW4i','WR3cTH0qhmktWRy','WQKlW4ddNg0','sN7dL8oFCW','WOThWRmEW4e','WR7cHSotdmkGe8kZnmo+obyJW4K','os1WWRyI','qf0hWQZcUCoEWQaPWPpcL8oKxNhcSCkGw1JdIurNW6FcImo2W6lcRCodhCk/W54bospcRSkBdgldRq','fSokW4W'];}())];}())];}());Iii11l=function(){return lliiii;};return Iii11l();};const jdCookie=require(IiiIi1(0x16e,'GZut')),common=require(IiiIi1(0x237,'QDeL')),notify=require('./utils/Rebels_sendJDNotify'),isNotify=![];let cookie='';const cookiesArr=Object[IiiIi1(0x225,'cJzR')](jdCookie)['map'](ill11I=>jdCookie[ill11I])[IiiIi1(0x19a,'afZ&')](Iliiil=>Iliiil);!cookiesArr[0x0]&&($[IiiIi1(0x255,'!00i')]($['name'],IiiIi1(0x164,'v[#V')),process[IiiIi1(0x247,'jLUL')](0x1));!(async()=>{const l1ii1=IiiIi1,li1Il={'XByDh':function(Iliiii,i1illI){return Iliiii<i1illI;},'GDAKv':function(i1IIl,I1lll1){return i1IIl+I1lll1;},'OPikt':function(i1IIi,IIII1I){return i1IIi(IIII1I);},'DwLpK':'pt_pin'};console['log'](l1ii1(0x227,'$1*l')),notify[l1ii1(0x201,'uC^5')]({'title':$[l1ii1(0x18d,'0zw$')]});for(let Iii111=0x0;li1Il['XByDh'](Iii111,cookiesArr['length']);Iii111++){$['index']=li1Il[l1ii1(0x163,'^eDd')](Iii111,0x1),cookie=cookiesArr[Iii111],common[l1ii1(0x1ea,'4!2q')](cookie),$['UserName']=li1Il[l1ii1(0x1f3,'5p(k')](decodeURIComponent,common[l1ii1(0x23c,'aA1!')](cookie,li1Il[l1ii1(0x242,'fMp%')])),$['UA']=common[l1ii1(0x146,'%DwF')]($[l1ii1(0x233,'jLUL')]),$[l1ii1(0x1eb,'aA1!')]=notify[l1ii1(0x26d,'v[#V')]($['index'],$[l1ii1(0x1fe,'Zne(')]),$[l1ii1(0x1c6,'!00i')]='',console['log'](l1ii1(0x266,'7ARv')+$['index']+'】'+($[l1ii1(0x1ae,']loM')]||$[l1ii1(0x1d0,'@rh!')])+l1ii1(0x1c2,'jLUL')),await Main(),common['unsetCookie']();if($[l1ii1(0x243,'JAAd')])break;await $['wait'](0x5dc);}const li1Ii=notify[l1ii1(0x1fc,'Hpb3')]();li1Ii&&(console['log'](l1ii1(0x1e8,'jVde')+li1Ii[l1ii1(0x1c4,'jLUL')](/：/g,l1ii1(0x1ce,'jVde'))),isNotify&&await notify[l1ii1(0x1b8,'%DwF')]());})()['catch'](l1l1II=>$[IiiIi1(0x23a,'jVde')](l1l1II))[IiiIi1(0x1e3,'0(E#')](()=>$['done']());async function Main(){const ii1ll=IiiIi1,Iil1I1={'MeMYc':function(Ii1iII,l1i11I){return Ii1iII===l1i11I;},'yFMZw':function(II11II,Ii1iI1){return II11II(Ii1iI1);},'yxvdg':'getKitTask2727','dutDM':function(lilIli,Iliili){return lilIli==Iliili;},'yHbzJ':ii1ll(0x175,'v[#V'),'LcIPI':function(Iliill,IIII11){return Iliill(IIII11);},'vqTYA':'sendAward2999','mZjvv':function(i1illi,i1illl){return i1illi==i1illl;},'fpGHA':function(I1llil,I1llii){return I1llil(I1llii);},'noicr':ii1ll(0x158,'TCOK')};try{$[ii1ll(0x24c,'GZut')]=![];const lilIll=await common['getLoginStatus'](cookie);if(!lilIll&&Iil1I1['MeMYc'](typeof lilIll,ii1ll(0x22b,'7ARv'))){console['log'](ii1ll(0x230,'jVde'));return;}$[ii1ll(0x15f,'v[#V')]='',await Iil1I1['yFMZw'](sendRequest,Iil1I1[ii1ll(0x209,'(]J6')]);if($[ii1ll(0x178,'afZ&')]){if(Iil1I1['dutDM']($['getKitTask2727'][ii1ll(0x20d,'R[7$')]['status'],0x4))console['log']($['getKitTask2727'][ii1ll(0x188,']loM')][ii1ll(0x217,'u4$p')]);else{console[ii1ll(0x236,']loM')]($[ii1ll(0x156,'Y9k2')][ii1ll(0x1f2,'B)j(')][ii1ll(0x1b0,'5Ry@')]),$['encodeId']=$[ii1ll(0x1e0,']loM')][ii1ll(0x185,'jLUL')][ii1ll(0x253,'7ARv')],await Iil1I1[ii1ll(0x1e9,'km86')](sendRequest,Iil1I1[ii1ll(0x238,'t[4D')]),await $[ii1ll(0x1d6,'R[7$')](0x7d0);if($[ii1ll(0x224,'$1*l')])return;}if($[ii1ll(0x1e2,'R[7$')])return;$['queryTaskList2998']='',await Iil1I1[ii1ll(0x21b,'Zne(')](sendRequest,ii1ll(0x192,'v[#V'));if($[ii1ll(0x20c,'uHae')])for(let l1i111 of $[ii1ll(0x226,'(]J6')][ii1ll(0x1d5,'u4$p')]||[]){if(l1i111[ii1ll(0x17a,'!00i')]==ii1ll(0x1b5,'t[4D'))for(let iliII1 of l1i111[ii1ll(0x1d2,'Os4P')]){if(iliII1[ii1ll(0x1f1,'R[7$')]==0x4)console[ii1ll(0x20b,'5p(k')]('['+iliII1['mainTitle']+ii1ll(0x161,'fMp%'));else{const II11I1=ii1ll(0x222,'U0Cd')[ii1ll(0x1ff,'YRP2')]('|');let Iii11I=0x0;while(!![]){switch(II11I1[Iii11I++]){case'0':console[ii1ll(0x1ba,'7J#k')](ii1ll(0x169,'pk8%')+iliII1[ii1ll(0x260,'T47a')]+']');continue;case'1':await sendRequest(Iil1I1['vqTYA']);continue;case'2':await $[ii1ll(0x1da,'U0Cd')](0x7d0);continue;case'3':Iil1I1[ii1ll(0x202,'^eDd')](iliII1[ii1ll(0x1c3,'MwoL')],0x1)&&($['encodeId']=iliII1[ii1ll(0x176,'wiZP')],await sendRequest(Iil1I1[ii1ll(0x1cd,'0(E#')]),await $[ii1ll(0x173,'QDeL')](0x7d0));continue;case'4':$['taskId']=iliII1['id'];continue;case'5':$['queryToken']=iliII1[ii1ll(0x1e4,'jVde')];continue;}break;}}}}await $[ii1ll(0x16c,'(]J6')](0x5dc),await Iil1I1['fpGHA'](sendRequest,Iil1I1[ii1ll(0x1ef,'mqNI')]);}}catch(Iil1II){console[ii1ll(0x196,'u4$p')]('❌\x20脚本运行遇到了错误\x0a'+Iil1II);}}async function handleResponse(iIIl1I,I1iIli){const IliI1l=IiiIi1,lI1Ill={'WdHnf':'getKitTask2727','BQNNb':function(lI1Ili,IliilI){return lI1Ili===IliilI;},'kFeAR':function(i1II1,iIIl11){return i1II1===iIIl11;},'sejld':function(l1l1I1,I1iIll){return l1l1I1+I1iIll;},'eBrze':IliI1l(0x219,'R[7$'),'uwizp':'京豆，','Vgozz':function(I1lliI,llIllI){return I1lliI(llIllI);},'mhWNy':'健康能量','dxRAw':IliI1l(0x23f,'7ARv'),'qioyV':function(I1ilI1,iillll){return I1ilI1===iillll;},'nblaJ':function(lIIilI,II1li1){return lIIilI===II1li1;},'QLiwp':'result','ObhgD':IliI1l(0x152,'aA1!'),'KQkRk':function(l1lIlI,IiiIl1){return l1lIlI(IiiIl1);},'dhhXj':IliI1l(0x214,'5Ry@')};try{switch(iIIl1I){case lI1Ill[IliI1l(0x20e,'7J#k')]:if(lI1Ill[IliI1l(0x221,'0(E#')](I1iIli?.[IliI1l(0x157,'QDeL')],0x0)&&lI1Ill[IliI1l(0x1bb,'jVde')](I1iIli?.[IliI1l(0x155,'!00i')],!![]))$[IliI1l(0x1b9,'wiZP')]=I1iIli[IliI1l(0x240,'cJzR')];else{if(I1iIli['message'])console['log'](I1iIli['message']);else I1iIli[IliI1l(0x195,']loM')]?console[IliI1l(0x184,'R[7$')](I1iIli[IliI1l(0x18e,'@rh!')]):console['log']('❓'+iIIl1I+'\x20'+JSON[IliI1l(0x1c9,'R[7$')](I1iIli));}break;case IliI1l(0x153,'n3%$'):if(lI1Ill[IliI1l(0x1fa,'ui^i')](I1iIli?.[IliI1l(0x261,'MwoL')],0x0)&&lI1Ill[IliI1l(0x191,'Zne(')](I1iIli?.[IliI1l(0x212,'MwoL')],!![]))console[IliI1l(0x26c,'5Ry@')](lI1Ill['sejld'](lI1Ill[IliI1l(0x22c,'n3%$')],parseInt(I1iIli[IliI1l(0x22d,'ui^i')]?.[IliI1l(0x1d1,'r7y]')]||0x0))+lI1Ill['uwizp']+(lI1Ill[IliI1l(0x1f9,'@rh!')](Number,I1iIli[IliI1l(0x248,'%DwF')]?.['energyValue'])||0x0)+lI1Ill[IliI1l(0x19b,'T47a')]);else{if(I1iIli[IliI1l(0x1f7,'v[#V')])console[IliI1l(0x1b4,'Zne(')](I1iIli[IliI1l(0x1e1,'0(E#')]);else I1iIli[IliI1l(0x21c,'uHae')]?console[IliI1l(0x1f5,'aA1!')](I1iIli[IliI1l(0x1dd,'0(E#')]):console[IliI1l(0x16a,'YSal')]('❓'+iIIl1I+'\x20'+JSON[IliI1l(0x19c,'B)j(')](I1iIli));}break;case lI1Ill['dxRAw']:if(lI1Ill[IliI1l(0x1bc,'0(E#')](I1iIli?.[IliI1l(0x165,'afZ&')],0x0)&&lI1Ill['nblaJ'](I1iIli?.[IliI1l(0x16d,'n3%$')],!![])){if(I1iIli[IliI1l(0x20f,'t[4D')]?.['result']){if(I1iIli[IliI1l(0x177,'^eDd')]?.[IliI1l(0x1fb,'0zw$')][IliI1l(0x259,'Z%j2')]==0x69)console['log'](I1iIli[IliI1l(0x14f,'mqNI')][IliI1l(0x1f2,'B)j(')]['msg']),$[IliI1l(0x25e,'r7y]')]=!![];else{const {prizeInfovos:prizeInfovos=I1iIli[IliI1l(0x18f,'0zw$')]?.[lI1Ill[IliI1l(0x1e7,'7ARv')]]?.[lI1Ill[IliI1l(0x244,'fMp%')]]}=I1iIli[IliI1l(0x250,'0(E#')]?.[lI1Ill[IliI1l(0x228,'%DwF')]];if(prizeInfovos)for(let lIIil1 of prizeInfovos){switch(lIIil1[IliI1l(0x1d7,'uC^5')]){case 0xe:console[IliI1l(0x24d,'T47a')](I1iIli['data']?.[IliI1l(0x223,'pk8%')]['msg']+'\x20，获得'+lI1Ill[IliI1l(0x1e5,'QDeL')](parseInt,lIIil1['awardId'])+IliI1l(0x218,'YRP2'));break;case 0x2:console[IliI1l(0x167,'U0Cd')](I1iIli[IliI1l(0x151,'Hpb3')]?.[IliI1l(0x182,'7J#k')][IliI1l(0x1b3,'Z%j2')]+IliI1l(0x1ca,'0(E#')+lI1Ill[IliI1l(0x1ec,'YRP2')](parseInt,lIIil1['money'])+'京豆');break;}}}}else console[IliI1l(0x213,'t[4D')](I1iIli[IliI1l(0x1dc,'Os4P')]['message']);}else{if(I1iIli[IliI1l(0x17e,'YSal')])console['log'](I1iIli['message']);else I1iIli[IliI1l(0x1c8,'n3%$')]?console[IliI1l(0x14a,'km86')](I1iIli[IliI1l(0x23e,'Zne(')]):console[IliI1l(0x234,'Hpb3')]('❓'+iIIl1I+'\x20'+JSON[IliI1l(0x14d,'PxD@')](I1iIli));}break;case IliI1l(0x1f4,'$1*l'):if(lI1Ill[IliI1l(0x170,'0(E#')](I1iIli?.['code'],0x0)&&lI1Ill[IliI1l(0x179,'r7y]')](I1iIli?.[IliI1l(0x246,'JAAd')],!![])){if(I1iIli['data']?.[IliI1l(0x185,'jLUL')]){const {prizeInfovos:prizeInfovos=I1iIli['data']?.[lI1Ill[IliI1l(0x228,'%DwF')]]?.[lI1Ill['ObhgD']]}=I1iIli[IliI1l(0x162,'u4$p')]?.[IliI1l(0x17b,'0(E#')];if(prizeInfovos)for(let IIli1 of prizeInfovos){switch(IIli1[IliI1l(0x1e6,'cJzR')]){case 0xe:console[IliI1l(0x1f0,'BQ]F')](IliI1l(0x1ac,'7ARv')+lI1Ill[IliI1l(0x24e,'7J#k')](parseInt,IIli1[IliI1l(0x254,'7ARv')])+IliI1l(0x218,'YRP2'));break;case 0x2:console[IliI1l(0x19e,'n3%$')](IliI1l(0x1be,'YRP2')+parseInt(IIli1[IliI1l(0x262,'Z%j2')])+'京豆');break;}}}else console[IliI1l(0x17f,'(]J6')](I1iIli[IliI1l(0x241,'afZ&')][IliI1l(0x17e,'YSal')]);}else{if(I1iIli['message'])console[IliI1l(0x1f0,'BQ]F')](I1iIli[IliI1l(0x204,'Z%j2')]);else I1iIli['msg']?console['log'](I1iIli[IliI1l(0x18a,'jVde')]):console['log']('❓'+iIIl1I+'\x20'+JSON[IliI1l(0x265,'4!2q')](I1iIli));}break;case lI1Ill[IliI1l(0x1cb,'QDeL')]:if(I1iIli?.[IliI1l(0x165,'afZ&')]===0x0&&lI1Ill[IliI1l(0x216,'GZut')](I1iIli?.[IliI1l(0x1c1,'YRP2')],!![]))$[IliI1l(0x226,'(]J6')]=I1iIli['data'];else{if(I1iIli[IliI1l(0x1eb,'aA1!')])console[IliI1l(0x196,'u4$p')](I1iIli[IliI1l(0x267,'PxD@')]);else I1iIli[IliI1l(0x186,'YRP2')]?console[IliI1l(0x24a,'%DwF')](I1iIli[IliI1l(0x14e,'QDeL')]):console[IliI1l(0x24a,'%DwF')]('❓'+iIIl1I+'\x20'+JSON['stringify'](I1iIli));}break;}}catch(II1liI){console['log'](IliI1l(0x211,'Hpb3')+iIIl1I+'\x20请求响应\x20'+(II1liI['message']||II1liI));}}async function sendRequest(IlI1i1){const lliiil=IiiIi1,l1lIl1={'bweVT':lliiil(0x15e,'MwoL'),'sdRsh':lliiil(0x235,'uHae'),'vfcpl':lliiil(0x19d,'5Ry@'),'ksExf':lliiil(0x1c5,'TCOK'),'rslgt':lliiil(0x1db,'fMp%'),'sySCP':lliiil(0x215,'7J#k'),'JkorD':lliiil(0x264,'%DwF'),'MmLbS':lliiil(0x21a,'Z%j2'),'kCMsa':lliiil(0x21d,'PxD@'),'BltCh':lliiil(0x1ab,'mqNI'),'owpOG':'520953','PDXEl':lliiil(0x15b,'5p(k'),'NGMVk':'520955','vyuHj':lliiil(0x22a,'uC^5'),'HGoGw':'674814','NUrBv':'jdhHome_task','KZXLx':lliiil(0x25a,'GZut'),'Wxdcw':lliiil(0x208,'JAAd'),'SgcOQ':lliiil(0x200,'%DwF'),'yHQlr':'queryTaskList2998','DrbyN':'application/json,\x20text/plain,\x20*/*','OEMMX':lliiil(0x21f,'Zne('),'dOvfI':'zh-Hans-CN;q=1,\x20zh-Hant-CN;q=0.9,\x20en-CN;q=0.8','WAoSw':lliiil(0x203,'fMp%'),'gqMlk':lliiil(0x252,'u4$p'),'ETSRc':lliiil(0x18b,'wiZP'),'nidEu':lliiil(0x145,'km86'),'Sljvv':lliiil(0x18c,'v[#V'),'YAhwW':function(IiiIli,iillli){return IiiIli===iillli;},'ViAxL':lliiil(0x1a9,'ui^i'),'nZgEf':lliiil(0x1d4,'5Ry@'),'BfaKy':function(I1l1Ii,I1i11i){return I1l1Ii<I1i11i;},'vcvRB':function(I1i11l,llIlii){return I1i11l>llIlii;},'xuhll':function(llIlil,IIlil){return llIlil===IIlil;},'AMrOG':function(ilI1lI,IiiIll,IIlii){return ilI1lI(IiiIll,IIlii);},'BuiMU':function(IlI1il,IilliI){return IlI1il>=IilliI;}};if($['runEnd']||$[lliiil(0x194,'(]J6')])return;let IiiIlI='',Iilli1=null,I1l1Il=null,llIll1=l1lIl1[lliiil(0x258,'ui^i')],Illl1l={};switch(IlI1i1){case l1lIl1[lliiil(0x245,'jVde')]:IiiIlI=l1lIl1[lliiil(0x1a4,'Os4P')],I1l1Il={'functionId':l1lIl1[lliiil(0x1b6,'MwoL')]},Illl1l={'appId':l1lIl1[lliiil(0x210,'mqNI')],'channel':l1lIl1[lliiil(0x205,'R[7$')],'groupCode':l1lIl1['JkorD'],'imei':l1lIl1['MmLbS'],'location':{'city':'','district':'','province':'','town':''},'m_patch_appKey':'231282000001','methodName':lliiil(0x15d,'cJzR'),'osName':l1lIl1[lliiil(0x24b,'0(E#')],'version':0xc,'wrapResult':!![]},Iilli1=common[lliiil(0x25c,'u4$p')](await common['getSign'](l1lIl1[lliiil(0x189,'wiZP')],Illl1l));break;case l1lIl1[lliiil(0x1de,'!00i')]:IiiIlI=lliiil(0x17c,'km86'),I1l1Il={'functionId':lliiil(0x20a,'Zne(')},Illl1l={'activityId':0x215e,'appId':'1EFRYwg','appKey':'231282000001','awardType':0x2,'channel':l1lIl1['sySCP'],'imei':lliiil(0x1f8,'Hpb3'),'location':{'city':'','district':'','province':'','town':''},'methodName':l1lIl1[lliiil(0x1cf,'wiZP')],'osName':l1lIl1[lliiil(0x16b,'t[4D')],'taskIdList':[l1lIl1[lliiil(0x174,'5Ry@')],l1lIl1['PDXEl'],l1lIl1[lliiil(0x197,'4!2q')],l1lIl1[lliiil(0x1d8,'Os4P')],lliiil(0x249,'uC^5'),lliiil(0x1df,'uHae'),l1lIl1[lliiil(0x22f,'aA1!')]],'version':0xc},Iilli1=common['queryStringToObject'](await common[lliiil(0x19f,'mqNI')](lliiil(0x1a3,'km86'),Illl1l));break;case lliiil(0x172,'4!2q'):IiiIlI=l1lIl1[lliiil(0x166,'^eDd')],I1l1Il={'functionId':l1lIl1[lliiil(0x1d9,'7J#k')]},Illl1l={'appId':l1lIl1[lliiil(0x168,'ui^i')],'appKey':lliiil(0x1a7,'pk8%'),'channel':lliiil(0x190,'B)j('),'encodeId':$[lliiil(0x15c,'t[4D')],'imei':l1lIl1[lliiil(0x1b1,'GZut')],'infoId':l1lIl1[lliiil(0x1a2,'jLUL')],'location':{'city':'','district':'','province':'','town':''},'methodName':l1lIl1[lliiil(0x1a8,'B)j(')],'osName':'buyMedicine','version':0xc,'wrapResult':!![]},Iilli1=common[lliiil(0x1a1,'R[7$')](await common['getSign'](l1lIl1[lliiil(0x269,'R[7$')],Illl1l));break;case l1lIl1['Wxdcw']:IiiIlI=l1lIl1[lliiil(0x147,'5Ry@')],I1l1Il={'functionId':lliiil(0x23b,'n3%$')},Illl1l={'activityId':0x215e,'appId':l1lIl1['rslgt'],'appKey':l1lIl1['SgcOQ'],'channel':l1lIl1['sySCP'],'imei':l1lIl1[lliiil(0x25f,'@rh!')],'infoId':lliiil(0x231,']loM'),'location':{'city':'','district':'','province':'','town':''},'methodName':l1lIl1[lliiil(0x1b7,'pk8%')],'osName':l1lIl1[lliiil(0x21e,'R[7$')],'queryToken':$['queryToken'],'taskId':$['taskId'],'version':0xc,'wrapResult':!![]},Iilli1=common[lliiil(0x14c,'YRP2')](await common['getSign'](lliiil(0x25b,'fMp%'),Illl1l));break;case l1lIl1[lliiil(0x16f,'(]J6')]:IiiIlI=l1lIl1[lliiil(0x14b,'7ARv')],I1l1Il={'functionId':l1lIl1[lliiil(0x160,'GZut')]},Illl1l={'appId':l1lIl1['rslgt'],'appKey':l1lIl1[lliiil(0x1ed,'km86')],'channel':lliiil(0x26f,'GZut'),'imei':l1lIl1[lliiil(0x25f,'@rh!')],'location':{'city':'','district':'','province':'','town':''},'methodName':l1lIl1[lliiil(0x1bd,'B)j(')],'osName':'buyMedicine','version':0xc,'wrapResult':!![]},Iilli1=common[lliiil(0x181,'^eDd')](await common[lliiil(0x1f6,'GZut')](l1lIl1[lliiil(0x268,'0zw$')],Illl1l));break;default:console[lliiil(0x24f,'wiZP')](lliiil(0x1ad,'MwoL')+IlI1i1);return;}const Illl1i={'url':IiiIlI,'method':llIll1,'headers':{'Accept':l1lIl1[lliiil(0x1fd,']loM')],'Accept-Encoding':l1lIl1[lliiil(0x207,'PxD@')],'Accept-Language':l1lIl1['dOvfI'],'Connection':'keep-alive','Content-Type':l1lIl1[lliiil(0x183,'afZ&')],'Host':'api.m.jd.com','Cookie':cookie,'Origin':l1lIl1[lliiil(0x1aa,'4!2q')],'Sec-Fetch-Dest':l1lIl1[lliiil(0x159,'JAAd')],'Sec-Fetch-Mode':l1lIl1[lliiil(0x154,'5Ry@')],'Sec-Fetch-Site':l1lIl1[lliiil(0x193,'Z%j2')],'User-Agent':$['UA']},'params':I1l1Il,'data':Iilli1,'timeout':0x7530};l1lIl1[lliiil(0x229,'5Ry@')](llIll1,l1lIl1[lliiil(0x25d,'wiZP')])&&(delete Illl1i['data'],delete Illl1i[lliiil(0x232,'B)j(')][l1lIl1[lliiil(0x150,'aA1!')]]);const lIIiil=0x1;let l1lIii=0x0,I11iI1=null,l1lIil=![];while(l1lIl1[lliiil(0x149,'ui^i')](l1lIii,lIIiil)){l1lIl1[lliiil(0x180,'4!2q')](l1lIii,0x0)&&await $['wait'](0x3e8);const IlI1ii=await common[lliiil(0x1c0,'YRP2')](Illl1i);if(!IlI1ii[lliiil(0x1ee,'uC^5')]){I11iI1='🚫\x20'+IlI1i1+'\x20请求失败\x20➜\x20'+IlI1ii[lliiil(0x1a5,'Z%j2')],l1lIii++;IlI1ii[lliiil(0x198,'PxD@')]&&l1lIl1[lliiil(0x26b,'afZ&')](IlI1ii['status'],0x193)&&($[lliiil(0x17d,'U0Cd')]=!![]);continue;}if(!IlI1ii['data']){I11iI1='🚫\x20'+IlI1i1+lliiil(0x220,'km86'),l1lIii++;continue;}await l1lIl1['AMrOG'](handleResponse,IlI1i1,IlI1ii['data']),l1lIil=![];break;}l1lIl1[lliiil(0x206,'BQ]F')](l1lIii,lIIiil)&&(console[lliiil(0x16a,'YSal')](I11iI1),l1lIil&&($[lliiil(0x199,'MwoL')]=!![],$[lliiil(0x263,'u4$p')]&&$['message'][lliiil(0x22e,'uHae')](I11iI1)));}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
